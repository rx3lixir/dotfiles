# ============================================
# TMUX APPEARANCE CONFIGURATION
# ============================================

# Load color scheme (variables like @accent, @bg0, etc.)
if-shell '[ -f ~/.config/tmux/colors.conf ]' \
    "source-file ~/.config/tmux/colors.conf"

# ============================================
# WINDOW NAMING BEHAVIOR
# ============================================

set -g automatic-rename off
set -g allow-rename off

# ============================================
# PANE BORDERS
# ============================================

setw -g pane-border-style "bg=default,fg=#{@border}"
setw -g pane-active-border-style "bg=default,fg=#{@border}"
setw -g pane-border-lines single 
setw -g pane-border-status top
setw -g pane-border-format ""

# ============================================
# STATUS BAR - POSITION & LAYOUT
# ============================================

set -g status-position top
set -g status-style "bg=default"
set -g status-justify "left"

# ============================================
# STATUS BAR - LEFT SIDE
# ============================================

set -g status-left-length 100

# Session name with prefix indicator
# - When prefix active: accent background with session icon
# - When prefix inactive: default background with session icon
# - Followed by separator
set -g status-left "\
#{?client_prefix,\
#[bg=#{@accent}]#[fg=#{@bg0}]#[bold]  #S ,\
#[bg=default]#[fg=#{@accent}]#[bold]  #S }\
#[bg=default]#[fg=#{@border}]#[none]#[bold]│ "

# Inactive windows
set -g window-status-format "#(~/.config/tmux/scripts/custom_number.sh '#I' 'dsquare')#W #[fg=#{@border}]│"

# Active window
set -g window-status-current-format "#(~/.config/tmux/scripts/custom_number.sh '#I' 'msquare')#W #[fg=#{@border}]│"

# ============================================
# STATUS BAR - RIGHT SIDE
# ============================================

set -g status-right-length 100
set -g status-right "#[fg=#{@secondary}] #(~/.config/tmux/scripts/custom_number.sh '#{window_panes}' 'hsquare') "

# ============================================
# WINDOW STYLES
# ============================================

set -g window-status-style "bg=default,fg=#{@fg_muted}"
set -g window-status-last-style "bg=default,fg=#{@fg_muted}"
set -g window-status-current-style "bg=default,fg=#{@secondary},bold"
set -g window-status-activity-style "bg=default,fg=#{@fg_muted},bold"
set -g window-status-bell-style "bg=default,fg=#{@error},bold"

